from pygments.lexer import RegexLexer, bygroups
from pygments.token import *

import re

__all__=['RplLexer']

class RplLexer(RegexLexer):
    name = 'Rpl'
    aliases = ['rpl']
    filenames = ['*.rpl']
    flags = re.MULTILINE | re.UNICODE

    tokens = {
        'root' : [
            (u'([#]+)(.*$)', bygroups(Comment.Single, Comment.Single)),
            (u'([@])(\')', bygroups(Punctuation, Punctuation), 'refstr_all__1'),
            (u'([@])(\uff07)', bygroups(Punctuation, Punctuation), 'refstr_all__2'),
            (u'([@])(\u2018)', bygroups(Punctuation, Punctuation), 'refstr_all__3'),
            (u'([@])(\u2019)', bygroups(Punctuation, Punctuation), 'refstr_all__4'),
            (u'([@])(\u275b)', bygroups(Punctuation, Punctuation), 'refstr_all__5'),
            (u'([@])(\u275c)', bygroups(Punctuation, Punctuation), 'refstr_all__6'),
            (u'([@])(\u201b)', bygroups(Punctuation, Punctuation), 'refstr_all__7'),
            (u'([@])(\u300c)', bygroups(Punctuation, Punctuation), 'refstr_all__8'),
            (u'([@])(\u3008)', bygroups(Punctuation, Punctuation), 'refstr_all__9'),
            (u'([@])(\u201a)', bygroups(Punctuation, Punctuation), 'refstr_all__10'),
            (u'([@])(\u275f)', bygroups(Punctuation, Punctuation), 'refstr_all__11'),
            (u'([@])(\u2039)', bygroups(Punctuation, Punctuation), 'refstr_all__12'),
            (u'([@])(\u203a)', bygroups(Punctuation, Punctuation), 'refstr_all__13'),
            (u'([@])(\u276e)', bygroups(Punctuation, Punctuation), 'refstr_all__14'),
            (u'([@])(\u276f)', bygroups(Punctuation, Punctuation), 'refstr_all__15'),
            (u'([@])(\")', bygroups(Punctuation, Punctuation), 'refstr_all__16'),
            (u'([@])(\uff02)', bygroups(Punctuation, Punctuation), 'refstr_all__17'),
            (u'([@])(\u201c)', bygroups(Punctuation, Punctuation), 'refstr_all__18'),
            (u'([@])(\u201d)', bygroups(Punctuation, Punctuation), 'refstr_all__19'),
            (u'([@])(\u275d)', bygroups(Punctuation, Punctuation), 'refstr_all__20'),
            (u'([@])(\u275e)', bygroups(Punctuation, Punctuation), 'refstr_all__21'),
            (u'([@])(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation, Punctuation), 'refstr_all__22'),
            (u'([@])(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation, Punctuation), 'refstr_all__23'),
            (u'([@])(\u201f)', bygroups(Punctuation, Punctuation), 'refstr_all__24'),
            (u'([@])(\u300e)', bygroups(Punctuation, Punctuation), 'refstr_all__25'),
            (u'([@])(\u300a)', bygroups(Punctuation, Punctuation), 'refstr_all__26'),
            (u'([@])(\u201e)', bygroups(Punctuation, Punctuation), 'refstr_all__27'),
            (u'([@])(\u2760)', bygroups(Punctuation, Punctuation), 'refstr_all__28'),
            (u'([@])(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation, Punctuation), 'refstr_all__29'),
            (u'([@])(\u  ab)', bygroups(Punctuation, Punctuation), 'refstr_all__30'),
            (u'([@])(\u  bb)', bygroups(Punctuation, Punctuation), 'refstr_all__31'),
            (u'(\')', bygroups(Punctuation), 'string_all__1'),
            (u'(\uff07)', bygroups(Punctuation), 'string_all__2'),
            (u'(\u2018)', bygroups(Punctuation), 'string_all__3'),
            (u'(\u2019)', bygroups(Punctuation), 'string_all__4'),
            (u'(\u275b)', bygroups(Punctuation), 'string_all__5'),
            (u'(\u275c)', bygroups(Punctuation), 'string_all__6'),
            (u'(\u201b)', bygroups(Punctuation), 'string_all__7'),
            (u'(\u300c)', bygroups(Punctuation), 'string_all__8'),
            (u'(\u3008)', bygroups(Punctuation), 'string_all__9'),
            (u'(\u201a)', bygroups(Punctuation), 'string_all__10'),
            (u'(\u275f)', bygroups(Punctuation), 'string_all__11'),
            (u'(\u2039)', bygroups(Punctuation), 'string_all__12'),
            (u'(\u203a)', bygroups(Punctuation), 'string_all__13'),
            (u'(\u276e)', bygroups(Punctuation), 'string_all__14'),
            (u'(\u276f)', bygroups(Punctuation), 'string_all__15'),
            (u'(\")', bygroups(Punctuation), 'string_all__16'),
            (u'(\uff02)', bygroups(Punctuation), 'string_all__17'),
            (u'(\u201c)', bygroups(Punctuation), 'string_all__18'),
            (u'(\u201d)', bygroups(Punctuation), 'string_all__19'),
            (u'(\u275d)', bygroups(Punctuation), 'string_all__20'),
            (u'(\u275e)', bygroups(Punctuation), 'string_all__21'),
            (u'(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation), 'string_all__22'),
            (u'(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation), 'string_all__23'),
            (u'(\u201f)', bygroups(Punctuation), 'string_all__24'),
            (u'(\u300e)', bygroups(Punctuation), 'string_all__25'),
            (u'(\u300a)', bygroups(Punctuation), 'string_all__26'),
            (u'(\u201e)', bygroups(Punctuation), 'string_all__27'),
            (u'(\u2760)', bygroups(Punctuation), 'string_all__28'),
            (u'(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation), 'string_all__29'),
            (u'(\u  ab)', bygroups(Punctuation), 'string_all__30'),
            (u'(\u  bb)', bygroups(Punctuation), 'string_all__31'),
            (u'([@])(--|[\u2013\u2014\u2015])', bygroups(Punctuation, Punctuation), 'dash_refstring__1'),
            (u'(--|[\u2013\u2014\u2015])([\\+])', bygroups(Punctuation, Operator), 'math_dash_string__1'),
            (u'(--|[\u2013\u2014\u2015])', bygroups(Punctuation), 'dash_string__1'),
            (u'(?=[@][`])', bygroups(String), 'refmultistr__1'),
            (u'([`]{3})([\\+])', bygroups(Punctuation, Operator), 'math_quoted3__1'),
            (u'([`])([\\+])', bygroups(Punctuation, Operator), 'math_quoted1__1'),
            (u'(?=[`])', bygroups(String), 'multistr__1'),
            (u'([@])(\\s*)([\\(])', bygroups(Punctuation, String, Punctuation), 'reference_paren__1'),
            (u'([@])(\\s*)([\\[])', bygroups(Punctuation, String, Punctuation), 'reference_brack__1'),
            (u'([@])(\\s*)(?:(this|g*parent|w*back|Defs)|([\\w_\\d]+)|)', bygroups(Punctuation, String, Keyword, Name.Entity), 'reference_inner'),
            (u'(?:(\\b\\d+)|([\\$][\\da-fA-F]+))(\\s*)([-~*+\xb1]|\\+-)(\\s*)(?:(\\b\\d+)|([\\$][\\da-fA-F]+))', bygroups(Number, Number.Hex, String, Operator, String, Number, Number.Hex)),
            (u'(?:(\\b\\d+)|([\\$][\\da-fA-F]+))(?=\\s*[:,#\\)\\]\\}]|\\s*$)', bygroups(Number, Number)),
            (u'([\\[])', bygroups(Punctuation), 'list__1'),
            (u'([:])(\\1?)', bygroups(Punctuation, Punctuation)),
            (u'(ROM|RPL|rom|rpl)|(\\b[a-z][a-z\\d]*)', bygroups(Keyword, Keyword.Type)),
            (u'(\\b[\\w_\\d]+)', bygroups(Name.Entity)),
            (u'([\\{])', bygroups(Punctuation), 'struct_body__1'),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'dash_refstring__1' : [
            (u'(\n|\r|\r\n)', bygroups(Comment.Single), '#pop'),
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\\$@\\n\\r]+)', bygroups(String.Heredoc)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'dash_string__1' : [
            (u'(\n|\r|\r\n)', bygroups(Comment.Single), '#pop'),
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\\$\\n\\r]+)', bygroups(String.Heredoc)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'index__1' : [
            (u'([#]+)(.*$)', bygroups(Comment.Single, Comment.Single)),
            (u'([@])(\')', bygroups(Punctuation, Punctuation), 'refstr_all__1'),
            (u'([@])(\uff07)', bygroups(Punctuation, Punctuation), 'refstr_all__2'),
            (u'([@])(\u2018)', bygroups(Punctuation, Punctuation), 'refstr_all__3'),
            (u'([@])(\u2019)', bygroups(Punctuation, Punctuation), 'refstr_all__4'),
            (u'([@])(\u275b)', bygroups(Punctuation, Punctuation), 'refstr_all__5'),
            (u'([@])(\u275c)', bygroups(Punctuation, Punctuation), 'refstr_all__6'),
            (u'([@])(\u201b)', bygroups(Punctuation, Punctuation), 'refstr_all__7'),
            (u'([@])(\u300c)', bygroups(Punctuation, Punctuation), 'refstr_all__8'),
            (u'([@])(\u3008)', bygroups(Punctuation, Punctuation), 'refstr_all__9'),
            (u'([@])(\u201a)', bygroups(Punctuation, Punctuation), 'refstr_all__10'),
            (u'([@])(\u275f)', bygroups(Punctuation, Punctuation), 'refstr_all__11'),
            (u'([@])(\u2039)', bygroups(Punctuation, Punctuation), 'refstr_all__12'),
            (u'([@])(\u203a)', bygroups(Punctuation, Punctuation), 'refstr_all__13'),
            (u'([@])(\u276e)', bygroups(Punctuation, Punctuation), 'refstr_all__14'),
            (u'([@])(\u276f)', bygroups(Punctuation, Punctuation), 'refstr_all__15'),
            (u'([@])(\")', bygroups(Punctuation, Punctuation), 'refstr_all__16'),
            (u'([@])(\uff02)', bygroups(Punctuation, Punctuation), 'refstr_all__17'),
            (u'([@])(\u201c)', bygroups(Punctuation, Punctuation), 'refstr_all__18'),
            (u'([@])(\u201d)', bygroups(Punctuation, Punctuation), 'refstr_all__19'),
            (u'([@])(\u275d)', bygroups(Punctuation, Punctuation), 'refstr_all__20'),
            (u'([@])(\u275e)', bygroups(Punctuation, Punctuation), 'refstr_all__21'),
            (u'([@])(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation, Punctuation), 'refstr_all__22'),
            (u'([@])(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation, Punctuation), 'refstr_all__23'),
            (u'([@])(\u201f)', bygroups(Punctuation, Punctuation), 'refstr_all__24'),
            (u'([@])(\u300e)', bygroups(Punctuation, Punctuation), 'refstr_all__25'),
            (u'([@])(\u300a)', bygroups(Punctuation, Punctuation), 'refstr_all__26'),
            (u'([@])(\u201e)', bygroups(Punctuation, Punctuation), 'refstr_all__27'),
            (u'([@])(\u2760)', bygroups(Punctuation, Punctuation), 'refstr_all__28'),
            (u'([@])(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation, Punctuation), 'refstr_all__29'),
            (u'([@])(\u  ab)', bygroups(Punctuation, Punctuation), 'refstr_all__30'),
            (u'([@])(\u  bb)', bygroups(Punctuation, Punctuation), 'refstr_all__31'),
            (u'(\')', bygroups(Punctuation), 'string_all__1'),
            (u'(\uff07)', bygroups(Punctuation), 'string_all__2'),
            (u'(\u2018)', bygroups(Punctuation), 'string_all__3'),
            (u'(\u2019)', bygroups(Punctuation), 'string_all__4'),
            (u'(\u275b)', bygroups(Punctuation), 'string_all__5'),
            (u'(\u275c)', bygroups(Punctuation), 'string_all__6'),
            (u'(\u201b)', bygroups(Punctuation), 'string_all__7'),
            (u'(\u300c)', bygroups(Punctuation), 'string_all__8'),
            (u'(\u3008)', bygroups(Punctuation), 'string_all__9'),
            (u'(\u201a)', bygroups(Punctuation), 'string_all__10'),
            (u'(\u275f)', bygroups(Punctuation), 'string_all__11'),
            (u'(\u2039)', bygroups(Punctuation), 'string_all__12'),
            (u'(\u203a)', bygroups(Punctuation), 'string_all__13'),
            (u'(\u276e)', bygroups(Punctuation), 'string_all__14'),
            (u'(\u276f)', bygroups(Punctuation), 'string_all__15'),
            (u'(\")', bygroups(Punctuation), 'string_all__16'),
            (u'(\uff02)', bygroups(Punctuation), 'string_all__17'),
            (u'(\u201c)', bygroups(Punctuation), 'string_all__18'),
            (u'(\u201d)', bygroups(Punctuation), 'string_all__19'),
            (u'(\u275d)', bygroups(Punctuation), 'string_all__20'),
            (u'(\u275e)', bygroups(Punctuation), 'string_all__21'),
            (u'(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation), 'string_all__22'),
            (u'(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation), 'string_all__23'),
            (u'(\u201f)', bygroups(Punctuation), 'string_all__24'),
            (u'(\u300e)', bygroups(Punctuation), 'string_all__25'),
            (u'(\u300a)', bygroups(Punctuation), 'string_all__26'),
            (u'(\u201e)', bygroups(Punctuation), 'string_all__27'),
            (u'(\u2760)', bygroups(Punctuation), 'string_all__28'),
            (u'(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation), 'string_all__29'),
            (u'(\u  ab)', bygroups(Punctuation), 'string_all__30'),
            (u'(\u  bb)', bygroups(Punctuation), 'string_all__31'),
            (u'([@])(--|[\u2013\u2014\u2015])', bygroups(Punctuation, Punctuation), 'dash_refstring__1'),
            (u'(--|[\u2013\u2014\u2015])([\\+])', bygroups(Punctuation, Operator), 'math_dash_string__1'),
            (u'(--|[\u2013\u2014\u2015])', bygroups(Punctuation), 'dash_string__1'),
            (u'(?=[@][`])', bygroups(String), 'refmultistr__1'),
            (u'([`]{3})([\\+])', bygroups(Punctuation, Operator), 'math_quoted3__1'),
            (u'([`])([\\+])', bygroups(Punctuation, Operator), 'math_quoted1__1'),
            (u'(?=[`])', bygroups(String), 'multistr__1'),
            (u'([@])(\\s*)([\\(])', bygroups(Punctuation, String, Punctuation), 'reference_paren__1'),
            (u'([@])(\\s*)([\\[])', bygroups(Punctuation, String, Punctuation), 'reference_brack__1'),
            (u'([@])(\\s*)(?:(this|g*parent|w*back|Defs)|([\\w_\\d]+)|)', bygroups(Punctuation, String, Keyword, Name.Entity), 'reference_inner'),
            (u'(?:(\\b\\d+)|([\\$][\\da-fA-F]+))(?=\\s*[:,#\\)\\]\\}]|\\s*$)', bygroups(Number, Number)),
            (u'([\\+])', bygroups(Operator), 'math_literal__1'),
            (u'(?=\\S)(?![a-z][a-z\\d]*\\s*[\\(\\[\\{])(?:(false|true|undefined|black|white|red|blue|green|yellow|magenta|pink|cyan|gray|grey|transparent|byte|short|long|double|LRUD|LRDU|RLUD|RLDU|UDLR|UDRL|DULR|DURL|LU|LD|RU|RD|UL|UR|DL|DR|big|little|(?:un)?signed|left|right|r?center|l?both|expand|\\*)|([^:,#\\(\\[\\{\\)\\]\\}\\n\\r]+))', bygroups(Keyword, String.Heredoc)),
            (u'(\\b[a-z][a-z\\d]*)(?=\\s*[\\(])', bygroups(Keyword.Type), 'value_struct_tp__1'),
            (u'(\\b[a-z][a-z\\d]*)(?=\\s*[\\[])', bygroups(Keyword.Type), 'value_struct_tl__1'),
            (u'(\\b[a-z][a-z\\d]*)(?=\\s*[\\{])', bygroups(Keyword.Type), 'value_struct_tb__1'),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'is_index__1' : [
            (u'([@])(\\s*)([\\(])', bygroups(Punctuation, String, Punctuation), 'reference_paren__1'),
            (u'([@])(\\s*)([\\[])', bygroups(Punctuation, String, Punctuation), 'reference_brack__1'),
            (u'([@])(\\s*)(?:(this|g*parent|w*back|Defs)|([\\w_\\d]+)|)', bygroups(Punctuation, String, Keyword, Name.Entity), 'reference_inner'),
            (u'(?:(\\b\\d+)|([\\$][\\da-fA-F]+))(?=\\s*[:,#\\)\\]\\}]|\\s*$)', bygroups(Number, Number)),
            (u'([\\+])', bygroups(Operator), 'math_literal__1'),
            (u'(?=\\S)(?![a-z][a-z\\d]*\\s*[\\(\\[\\{])(?:(false|true|undefined|black|white|red|blue|green|yellow|magenta|pink|cyan|gray|grey|transparent|byte|short|long|double|LRUD|LRDU|RLUD|RLDU|UDLR|UDRL|DULR|DURL|LU|LD|RU|RD|UL|UR|DL|DR|big|little|(?:un)?signed|left|right|r?center|l?both|expand|\\*)|([^:,#\\(\\[\\{\\)\\]\\}\\n\\r]+))', bygroups(Keyword, String.Heredoc)),
            (u'(\\b[a-z][a-z\\d]*)(?=\\s*[\\(])', bygroups(Keyword.Type), 'value_struct_tp__1'),
            (u'(\\b[a-z][a-z\\d]*)(?=\\s*[\\[])', bygroups(Keyword.Type), 'value_struct_tl__1'),
            (u'(\\b[a-z][a-z\\d]*)(?=\\s*[\\{])', bygroups(Keyword.Type), 'value_struct_tb__1'),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'is_reference_brack__1' : [
            (u'([\\w_\\d]+|)', bygroups(Name.Entity), 'is_reference_inner'),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'is_reference_inner' : [
            (u'([\\[](?=[\"\']))|([\\[])', bygroups(Generic.Error, Punctuation), 'is_index__1'),
            (u'([\\{](?=[\"\']))|([\\{])', bygroups(Generic.Error, Punctuation), 'is_subscript__1'),
            (u'(->|[.\\-\u2500])([a-z][a-z\\d]*)', bygroups(Punctuation, Name.Attribute)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'is_reference_paren__1' : [
            (u'([\\w_\\d]+|)', bygroups(Name.Entity), 'is_reference_inner'),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'is_subscript__1' : [
            (u'(?=\\S)(?![a-z][a-z\\d]*\\s*[\\(\\[\\{])(?:(false|true|undefined|black|white|red|blue|green|yellow|magenta|pink|cyan|gray|grey|transparent|byte|short|long|double|LRUD|LRDU|RLUD|RLDU|UDLR|UDRL|DULR|DURL|LU|LD|RU|RD|UL|UR|DL|DR|big|little|(?:un)?signed|left|right|r?center|l?both|expand|\\*)|([^:,#\\(\\[\\{\\)\\]\\}\\n\\r]+))', bygroups(Keyword, String.Heredoc)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'key_value_body' : [
            (u'([#]+)(.*$)', bygroups(Comment.Single, Comment.Single)),
            (u'([@])(\')', bygroups(Punctuation, Punctuation), 'refstr_all__1'),
            (u'([@])(\uff07)', bygroups(Punctuation, Punctuation), 'refstr_all__2'),
            (u'([@])(\u2018)', bygroups(Punctuation, Punctuation), 'refstr_all__3'),
            (u'([@])(\u2019)', bygroups(Punctuation, Punctuation), 'refstr_all__4'),
            (u'([@])(\u275b)', bygroups(Punctuation, Punctuation), 'refstr_all__5'),
            (u'([@])(\u275c)', bygroups(Punctuation, Punctuation), 'refstr_all__6'),
            (u'([@])(\u201b)', bygroups(Punctuation, Punctuation), 'refstr_all__7'),
            (u'([@])(\u300c)', bygroups(Punctuation, Punctuation), 'refstr_all__8'),
            (u'([@])(\u3008)', bygroups(Punctuation, Punctuation), 'refstr_all__9'),
            (u'([@])(\u201a)', bygroups(Punctuation, Punctuation), 'refstr_all__10'),
            (u'([@])(\u275f)', bygroups(Punctuation, Punctuation), 'refstr_all__11'),
            (u'([@])(\u2039)', bygroups(Punctuation, Punctuation), 'refstr_all__12'),
            (u'([@])(\u203a)', bygroups(Punctuation, Punctuation), 'refstr_all__13'),
            (u'([@])(\u276e)', bygroups(Punctuation, Punctuation), 'refstr_all__14'),
            (u'([@])(\u276f)', bygroups(Punctuation, Punctuation), 'refstr_all__15'),
            (u'([@])(\")', bygroups(Punctuation, Punctuation), 'refstr_all__16'),
            (u'([@])(\uff02)', bygroups(Punctuation, Punctuation), 'refstr_all__17'),
            (u'([@])(\u201c)', bygroups(Punctuation, Punctuation), 'refstr_all__18'),
            (u'([@])(\u201d)', bygroups(Punctuation, Punctuation), 'refstr_all__19'),
            (u'([@])(\u275d)', bygroups(Punctuation, Punctuation), 'refstr_all__20'),
            (u'([@])(\u275e)', bygroups(Punctuation, Punctuation), 'refstr_all__21'),
            (u'([@])(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation, Punctuation), 'refstr_all__22'),
            (u'([@])(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation, Punctuation), 'refstr_all__23'),
            (u'([@])(\u201f)', bygroups(Punctuation, Punctuation), 'refstr_all__24'),
            (u'([@])(\u300e)', bygroups(Punctuation, Punctuation), 'refstr_all__25'),
            (u'([@])(\u300a)', bygroups(Punctuation, Punctuation), 'refstr_all__26'),
            (u'([@])(\u201e)', bygroups(Punctuation, Punctuation), 'refstr_all__27'),
            (u'([@])(\u2760)', bygroups(Punctuation, Punctuation), 'refstr_all__28'),
            (u'([@])(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation, Punctuation), 'refstr_all__29'),
            (u'([@])(\u  ab)', bygroups(Punctuation, Punctuation), 'refstr_all__30'),
            (u'([@])(\u  bb)', bygroups(Punctuation, Punctuation), 'refstr_all__31'),
            (u'(\')', bygroups(Punctuation), 'string_all__1'),
            (u'(\uff07)', bygroups(Punctuation), 'string_all__2'),
            (u'(\u2018)', bygroups(Punctuation), 'string_all__3'),
            (u'(\u2019)', bygroups(Punctuation), 'string_all__4'),
            (u'(\u275b)', bygroups(Punctuation), 'string_all__5'),
            (u'(\u275c)', bygroups(Punctuation), 'string_all__6'),
            (u'(\u201b)', bygroups(Punctuation), 'string_all__7'),
            (u'(\u300c)', bygroups(Punctuation), 'string_all__8'),
            (u'(\u3008)', bygroups(Punctuation), 'string_all__9'),
            (u'(\u201a)', bygroups(Punctuation), 'string_all__10'),
            (u'(\u275f)', bygroups(Punctuation), 'string_all__11'),
            (u'(\u2039)', bygroups(Punctuation), 'string_all__12'),
            (u'(\u203a)', bygroups(Punctuation), 'string_all__13'),
            (u'(\u276e)', bygroups(Punctuation), 'string_all__14'),
            (u'(\u276f)', bygroups(Punctuation), 'string_all__15'),
            (u'(\")', bygroups(Punctuation), 'string_all__16'),
            (u'(\uff02)', bygroups(Punctuation), 'string_all__17'),
            (u'(\u201c)', bygroups(Punctuation), 'string_all__18'),
            (u'(\u201d)', bygroups(Punctuation), 'string_all__19'),
            (u'(\u275d)', bygroups(Punctuation), 'string_all__20'),
            (u'(\u275e)', bygroups(Punctuation), 'string_all__21'),
            (u'(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation), 'string_all__22'),
            (u'(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation), 'string_all__23'),
            (u'(\u201f)', bygroups(Punctuation), 'string_all__24'),
            (u'(\u300e)', bygroups(Punctuation), 'string_all__25'),
            (u'(\u300a)', bygroups(Punctuation), 'string_all__26'),
            (u'(\u201e)', bygroups(Punctuation), 'string_all__27'),
            (u'(\u2760)', bygroups(Punctuation), 'string_all__28'),
            (u'(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation), 'string_all__29'),
            (u'(\u  ab)', bygroups(Punctuation), 'string_all__30'),
            (u'(\u  bb)', bygroups(Punctuation), 'string_all__31'),
            (u'([@])(--|[\u2013\u2014\u2015])', bygroups(Punctuation, Punctuation), 'dash_refstring__1'),
            (u'(--|[\u2013\u2014\u2015])([\\+])', bygroups(Punctuation, Operator), 'math_dash_string__1'),
            (u'(--|[\u2013\u2014\u2015])', bygroups(Punctuation), 'dash_string__1'),
            (u'(?=[@][`])', bygroups(String), 'refmultistr__1'),
            (u'([`]{3})([\\+])', bygroups(Punctuation, Operator), 'math_quoted3__1'),
            (u'([`])([\\+])', bygroups(Punctuation, Operator), 'math_quoted1__1'),
            (u'(?=[`])', bygroups(String), 'multistr__1'),
            (u'([@])(\\s*)([\\(])', bygroups(Punctuation, String, Punctuation), 'reference_paren__1'),
            (u'([@])(\\s*)([\\[])', bygroups(Punctuation, String, Punctuation), 'reference_brack__1'),
            (u'([@])(\\s*)(?:(this|g*parent|w*back|Defs)|([\\w_\\d]+)|)', bygroups(Punctuation, String, Keyword, Name.Entity), 'reference_inner'),
            (u'(?:(\\b\\d+)|([\\$][\\da-fA-F]+))(\\s*)([-~*+\xb1]|\\+-)(\\s*)(?:(\\b\\d+)|([\\$][\\da-fA-F]+))', bygroups(Number, Number.Hex, String, Operator, String, Number, Number.Hex)),
            (u'(?:(\\b\\d+)|([\\$][\\da-fA-F]+))(?=\\s*[:,#\\)\\]\\}]|\\s*$)', bygroups(Number, Number)),
            (u'([\\[])', bygroups(Punctuation), 'list__1'),
            (u'([:])(\\1?)', bygroups(Punctuation, Punctuation)),
            (u'([\\+])', bygroups(Operator), 'math_literal__1'),
            (u'(?=\\S)(?![a-z][a-z\\d]*\\s*[\\(\\[\\{])(?:(false|true|undefined|black|white|red|blue|green|yellow|magenta|pink|cyan|gray|grey|transparent|byte|short|long|double|LRUD|LRDU|RLUD|RLDU|UDLR|UDRL|DULR|DURL|LU|LD|RU|RD|UL|UR|DL|DR|big|little|(?:un)?signed|left|right|r?center|l?both|expand|\\*)|([^:,#\\(\\[\\{\\)\\]\\}\\n\\r]+))', bygroups(Keyword, String.Heredoc)),
            (u'(\\b[a-z][a-z\\d]*)(?=\\s*[\\(])', bygroups(Keyword.Type), 'value_struct_tp__1'),
            (u'(\\b[a-z][a-z\\d]*)(?=\\s*[\\[])', bygroups(Keyword.Type), 'value_struct_tl__1'),
            (u'(\\b[a-z][a-z\\d]*)(?=\\s*[\\{])', bygroups(Keyword.Type), 'value_struct_tb__1'),
            (u'(?=[\\(])', bygroups(Keyword.Type), 'value_struct_p__1'),
            (u'([\\{])', bygroups(Punctuation), 'struct_body__1'),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'list__1' : [
            (u'(?=.)', bygroups(String), 'value_body'),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'math_dash_string__1' : [
            (u'(\n|\r|\r\n)', bygroups(Comment.Single), '#pop'),
            (u'((?:[\\$]{2}|[0]x)[\\da-fA-F]+)', bygroups(Number.Hex)),
            (u'([0]o[0-7]+)', bygroups(Number.Oct)),
            (u'((?:0b|%)[01]+)', bygroups(Number.Bin)),
            (u'([\\d]+_[\\d]+)', bygroups(Number)),
            (u'(\\b\\d+)', bygroups(Number)),
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'(\\*\\*|<<|>>|[-+*/&|^%])', bygroups(Operator)),
            (u'([<])|([>])', bygroups(Punctuation, Punctuation)),
            (u'([\\(\\)])', bygroups(Punctuation)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'math_literal__1' : [
            (u'((?:[\\$]{2}|[0]x)[\\da-fA-F]+)', bygroups(Number.Hex)),
            (u'([0]o[0-7]+)', bygroups(Number.Oct)),
            (u'((?:0b|%)[01]+)', bygroups(Number.Bin)),
            (u'([\\d]+_[\\d]+)', bygroups(Number)),
            (u'(\\b\\d+)', bygroups(Number)),
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'(\\*\\*|<<|>>|[-+*/&|^%])', bygroups(Operator)),
            (u'([<])|([>])', bygroups(Punctuation, Punctuation)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'math_quoted1__1' : [
            (u'((?:[\\$]{2}|[0]x)[\\da-fA-F]+)', bygroups(Number.Hex)),
            (u'([0]o[0-7]+)', bygroups(Number.Oct)),
            (u'((?:0b|%)[01]+)', bygroups(Number.Bin)),
            (u'([\\d]+_[\\d]+)', bygroups(Number)),
            (u'(\\b\\d+)', bygroups(Number)),
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'(\\*\\*|<<|>>|[-+*/&|^%])', bygroups(Operator)),
            (u'([<])|([>])', bygroups(Punctuation, Punctuation)),
            (u'([\\(\\)])', bygroups(Punctuation)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'math_quoted3__1' : [
            (u'((?:[\\$]{2}|[0]x)[\\da-fA-F]+)', bygroups(Number.Hex)),
            (u'([0]o[0-7]+)', bygroups(Number.Oct)),
            (u'((?:0b|%)[01]+)', bygroups(Number.Bin)),
            (u'([\\d]+_[\\d]+)', bygroups(Number)),
            (u'(\\b\\d+)', bygroups(Number)),
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'(\\*\\*|<<|>>|[-+*/&|^%])', bygroups(Operator)),
            (u'([<])|([>])', bygroups(Punctuation, Punctuation)),
            (u'([\\(\\)])', bygroups(Punctuation)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'multistr_1__1' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^`\\$\\n\\r]+)', bygroups(String)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'multistr_2__1' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^`\\$\\n\\r]+)', bygroups(String)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'multistr_3__1' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^`\\$\\n\\r]+)', bygroups(String)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'multistr__1' : [
            (u'([#]+)(.*$)', bygroups(Comment.Single, Comment.Single)),
            (u'([`]{ 3 }(?![`]))', bygroups(Punctuation), 'multistr_3__1'),
            (u'([`]{ 2 }(?![`]))', bygroups(Punctuation), 'multistr_2__1'),
            (u'([`](?![`]))', bygroups(Punctuation), 'multistr_1__1'),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'reference_brack__1' : [
            (u'(?:(this|g*parent|w*back|Defs)|([\\w_\\d]+)|)', bygroups(Keyword, Name.Entity), 'reference_inner'),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'reference_inner' : [
            (u'([#]+)(.*$)', bygroups(Comment.Single, Comment.Single)),
            (u'([\\[])', bygroups(Punctuation), 'index__1'),
            (u'([\\{])', bygroups(Punctuation), 'subscript__1'),
            (u'(->|[.\\-\u2500])', bygroups(Punctuation), 'reference_key__1'),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'reference_key__1' : [
            (u'([#]+)(.*$)', bygroups(Comment.Single, Comment.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'reference_paren__1' : [
            (u'(?:(this|g*parent|w*back|Defs)|([\\w_\\d]+)|)', bygroups(Keyword, Name.Entity), 'reference_inner'),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refmultistr_1__1' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])(\\s*)([\\(])', bygroups(Punctuation, String, Punctuation), 'reference_paren__1'),
            (u'([@])(\\s*)([\\[])', bygroups(Punctuation, String, Punctuation), 'reference_brack__1'),
            (u'([@])(\\s*)(?:(this|g*parent|w*back|Defs)|([\\w_\\d]+)|)', bygroups(Punctuation, String, Keyword, Name.Entity), 'reference_inner'),
            (u'([^`\\$@\\n\\r]+)', bygroups(String)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refmultistr_2__1' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])(\\s*)([\\(])', bygroups(Punctuation, String, Punctuation), 'reference_paren__1'),
            (u'([@])(\\s*)([\\[])', bygroups(Punctuation, String, Punctuation), 'reference_brack__1'),
            (u'([@])(\\s*)(?:(this|g*parent|w*back|Defs)|([\\w_\\d]+)|)', bygroups(Punctuation, String, Keyword, Name.Entity), 'reference_inner'),
            (u'([^`\\$@\\n\\r]+)', bygroups(String)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refmultistr_3__1' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])(\\s*)([\\(])', bygroups(Punctuation, String, Punctuation), 'reference_paren__1'),
            (u'([@])(\\s*)([\\[])', bygroups(Punctuation, String, Punctuation), 'reference_brack__1'),
            (u'([@])(\\s*)(?:(this|g*parent|w*back|Defs)|([\\w_\\d]+)|)', bygroups(Punctuation, String, Keyword, Name.Entity), 'reference_inner'),
            (u'([^`\\$@\\n\\r]+)', bygroups(String)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refmultistr__1' : [
            (u'([#]+)(.*$)', bygroups(Comment.Single, Comment.Single)),
            (u'([@]?)([`]{ 3 }(?![`]))', bygroups(Punctuation, Punctuation), 'refmultistr_3__1'),
            (u'([@]?)([`]{ 2 }(?![`]))', bygroups(Punctuation, Punctuation), 'refmultistr_2__1'),
            (u'([@]?)([`](?![`]))', bygroups(Punctuation, Punctuation), 'refmultistr_1__1'),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__1' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\'\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__10' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\u2019\u2018\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__11' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\u275c\u275b\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__12' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\u203a\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__13' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\u2039\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__14' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\u276f\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__15' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\u276e\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__16' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\"\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__17' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\uff02\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__18' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\u201c\u201d\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__19' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\u201d\u201e\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__2' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\uff07\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__20' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\u275d\u275e\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__21' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\u275e\u2760\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__22' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\u{s1:4x}\u{s2:4x}\u{s1:4x}\u{s2:4x}\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__23' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\u{s1:4x}\u{s2:4x}\u{s1:4x}\u{s2:4x}\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__24' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\u201f\u201d\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__25' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\u300f\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__26' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\u300b\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__27' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\u201c\u201d\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__28' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\u275d\u275e\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__29' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\u{s1:4x}\u{s2:4x}\u{s1:4x}\u{s2:4x}\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__3' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\u2018\u2019\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__30' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\u  bb\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__31' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\u  ab\u  bb\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__4' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\u2019\u2018\u201a\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__5' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\u275b\u275c\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__6' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\u275c\u275b\u275f\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__7' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\u201b\u2019\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__8' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\u300d\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'refstr_all__9' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([@])([\\(])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_paren__1'),
            (u'([@])([\\[])(\\s*)', bygroups(Punctuation, Punctuation, String), 'is_reference_brack__1'),
            (u'([@])([\\w_\\d]+|)', bygroups(Punctuation, Name.Entity), 'is_reference_inner'),
            (u'([^\u3009\\$@\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__1' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\'\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__10' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\u2019\u2018\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__11' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\u275c\u275b\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__12' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\u203a\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__13' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\u2039\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__14' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\u276f\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__15' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\u276e\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__16' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\"\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__17' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\uff02\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__18' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\u201c\u201d\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__19' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\u201d\u201e\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__2' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\uff07\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__20' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\u275d\u275e\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__21' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\u275e\u2760\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__22' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\u{s1:4x}\u{s2:4x}\u{s1:4x}\u{s2:4x}\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__23' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\u{s1:4x}\u{s2:4x}\u{s1:4x}\u{s2:4x}\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__24' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\u201f\u201d\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__25' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\u300f\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__26' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\u300b\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__27' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\u201c\u201d\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__28' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\u275d\u275e\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__29' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\u{s1:4x}\u{s2:4x}\u{s1:4x}\u{s2:4x}\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__3' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\u2018\u2019\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__30' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\u  bb\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__31' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\u  ab\u  bb\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__4' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\u2019\u2018\u201a\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__5' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\u275b\u275c\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__6' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\u275c\u275b\u275f\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__7' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\u201b\u2019\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__8' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\u300d\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'string_all__9' : [
            (u'([\\$](?:[\\da-fA-F]{2}|\\([\\da-fA-F]*\\)|[\"\'`znrt\\$@]))|([\\$].)', bygroups(String.Escape, Generic.Error)),
            (u'([^\u3009\\$\\n\\r]+(?!$))', bygroups(String.Single)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'struct_body__1' : [
            (u'([#]+)(.*$)', bygroups(Comment.Single, Comment.Single)),
            (u'([:])', bygroups(Name.Attribute), 'key_value_body'),
            (u'([#]+)(.*$)', bygroups(Comment.Single, Comment.Single)),
            (u'([@])(\')', bygroups(Punctuation, Punctuation), 'refstr_all__1'),
            (u'([@])(\uff07)', bygroups(Punctuation, Punctuation), 'refstr_all__2'),
            (u'([@])(\u2018)', bygroups(Punctuation, Punctuation), 'refstr_all__3'),
            (u'([@])(\u2019)', bygroups(Punctuation, Punctuation), 'refstr_all__4'),
            (u'([@])(\u275b)', bygroups(Punctuation, Punctuation), 'refstr_all__5'),
            (u'([@])(\u275c)', bygroups(Punctuation, Punctuation), 'refstr_all__6'),
            (u'([@])(\u201b)', bygroups(Punctuation, Punctuation), 'refstr_all__7'),
            (u'([@])(\u300c)', bygroups(Punctuation, Punctuation), 'refstr_all__8'),
            (u'([@])(\u3008)', bygroups(Punctuation, Punctuation), 'refstr_all__9'),
            (u'([@])(\u201a)', bygroups(Punctuation, Punctuation), 'refstr_all__10'),
            (u'([@])(\u275f)', bygroups(Punctuation, Punctuation), 'refstr_all__11'),
            (u'([@])(\u2039)', bygroups(Punctuation, Punctuation), 'refstr_all__12'),
            (u'([@])(\u203a)', bygroups(Punctuation, Punctuation), 'refstr_all__13'),
            (u'([@])(\u276e)', bygroups(Punctuation, Punctuation), 'refstr_all__14'),
            (u'([@])(\u276f)', bygroups(Punctuation, Punctuation), 'refstr_all__15'),
            (u'([@])(\")', bygroups(Punctuation, Punctuation), 'refstr_all__16'),
            (u'([@])(\uff02)', bygroups(Punctuation, Punctuation), 'refstr_all__17'),
            (u'([@])(\u201c)', bygroups(Punctuation, Punctuation), 'refstr_all__18'),
            (u'([@])(\u201d)', bygroups(Punctuation, Punctuation), 'refstr_all__19'),
            (u'([@])(\u275d)', bygroups(Punctuation, Punctuation), 'refstr_all__20'),
            (u'([@])(\u275e)', bygroups(Punctuation, Punctuation), 'refstr_all__21'),
            (u'([@])(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation, Punctuation), 'refstr_all__22'),
            (u'([@])(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation, Punctuation), 'refstr_all__23'),
            (u'([@])(\u201f)', bygroups(Punctuation, Punctuation), 'refstr_all__24'),
            (u'([@])(\u300e)', bygroups(Punctuation, Punctuation), 'refstr_all__25'),
            (u'([@])(\u300a)', bygroups(Punctuation, Punctuation), 'refstr_all__26'),
            (u'([@])(\u201e)', bygroups(Punctuation, Punctuation), 'refstr_all__27'),
            (u'([@])(\u2760)', bygroups(Punctuation, Punctuation), 'refstr_all__28'),
            (u'([@])(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation, Punctuation), 'refstr_all__29'),
            (u'([@])(\u  ab)', bygroups(Punctuation, Punctuation), 'refstr_all__30'),
            (u'([@])(\u  bb)', bygroups(Punctuation, Punctuation), 'refstr_all__31'),
            (u'(\')', bygroups(Punctuation), 'string_all__1'),
            (u'(\uff07)', bygroups(Punctuation), 'string_all__2'),
            (u'(\u2018)', bygroups(Punctuation), 'string_all__3'),
            (u'(\u2019)', bygroups(Punctuation), 'string_all__4'),
            (u'(\u275b)', bygroups(Punctuation), 'string_all__5'),
            (u'(\u275c)', bygroups(Punctuation), 'string_all__6'),
            (u'(\u201b)', bygroups(Punctuation), 'string_all__7'),
            (u'(\u300c)', bygroups(Punctuation), 'string_all__8'),
            (u'(\u3008)', bygroups(Punctuation), 'string_all__9'),
            (u'(\u201a)', bygroups(Punctuation), 'string_all__10'),
            (u'(\u275f)', bygroups(Punctuation), 'string_all__11'),
            (u'(\u2039)', bygroups(Punctuation), 'string_all__12'),
            (u'(\u203a)', bygroups(Punctuation), 'string_all__13'),
            (u'(\u276e)', bygroups(Punctuation), 'string_all__14'),
            (u'(\u276f)', bygroups(Punctuation), 'string_all__15'),
            (u'(\")', bygroups(Punctuation), 'string_all__16'),
            (u'(\uff02)', bygroups(Punctuation), 'string_all__17'),
            (u'(\u201c)', bygroups(Punctuation), 'string_all__18'),
            (u'(\u201d)', bygroups(Punctuation), 'string_all__19'),
            (u'(\u275d)', bygroups(Punctuation), 'string_all__20'),
            (u'(\u275e)', bygroups(Punctuation), 'string_all__21'),
            (u'(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation), 'string_all__22'),
            (u'(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation), 'string_all__23'),
            (u'(\u201f)', bygroups(Punctuation), 'string_all__24'),
            (u'(\u300e)', bygroups(Punctuation), 'string_all__25'),
            (u'(\u300a)', bygroups(Punctuation), 'string_all__26'),
            (u'(\u201e)', bygroups(Punctuation), 'string_all__27'),
            (u'(\u2760)', bygroups(Punctuation), 'string_all__28'),
            (u'(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation), 'string_all__29'),
            (u'(\u  ab)', bygroups(Punctuation), 'string_all__30'),
            (u'(\u  bb)', bygroups(Punctuation), 'string_all__31'),
            (u'([@])(--|[\u2013\u2014\u2015])', bygroups(Punctuation, Punctuation), 'dash_refstring__1'),
            (u'(--|[\u2013\u2014\u2015])([\\+])', bygroups(Punctuation, Operator), 'math_dash_string__1'),
            (u'(--|[\u2013\u2014\u2015])', bygroups(Punctuation), 'dash_string__1'),
            (u'(?=[@][`])', bygroups(String), 'refmultistr__1'),
            (u'([`]{3})([\\+])', bygroups(Punctuation, Operator), 'math_quoted3__1'),
            (u'([`])([\\+])', bygroups(Punctuation, Operator), 'math_quoted1__1'),
            (u'(?=[`])', bygroups(String), 'multistr__1'),
            (u'([@])(\\s*)([\\(])', bygroups(Punctuation, String, Punctuation), 'reference_paren__1'),
            (u'([@])(\\s*)([\\[])', bygroups(Punctuation, String, Punctuation), 'reference_brack__1'),
            (u'([@])(\\s*)(?:(this|g*parent|w*back|Defs)|([\\w_\\d]+)|)', bygroups(Punctuation, String, Keyword, Name.Entity), 'reference_inner'),
            (u'(?:(\\b\\d+)|([\\$][\\da-fA-F]+))(\\s*)([-~*+\xb1]|\\+-)(\\s*)(?:(\\b\\d+)|([\\$][\\da-fA-F]+))', bygroups(Number, Number.Hex, String, Operator, String, Number, Number.Hex)),
            (u'(?:(\\b\\d+)|([\\$][\\da-fA-F]+))(?=\\s*[:,#\\)\\]\\}]|\\s*$)', bygroups(Number, Number)),
            (u'(\\b[a-z][a-z\\d]*\\s*[:])', bygroups(Name.Attribute), 'key_value_body'),
            (u'([\\[])', bygroups(Punctuation), 'list__1'),
            (u'(ROM|RPL|rom|rpl)|(\\b[a-z][a-z\\d]*)', bygroups(Keyword, Keyword.Type)),
            (u'(\\b[\\w_\\d]+)', bygroups(Name.Entity)),
            (u'([\\{])', bygroups(Punctuation), 'struct_body__1'),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'subscript__1' : [
            (u'([#]+)(.*$)', bygroups(Comment.Single, Comment.Single)),
            (u'(?=\\S)(?![a-z][a-z\\d]*\\s*[\\(\\[\\{])(?:(false|true|undefined|black|white|red|blue|green|yellow|magenta|pink|cyan|gray|grey|transparent|byte|short|long|double|LRUD|LRDU|RLUD|RLDU|UDLR|UDRL|DULR|DURL|LU|LD|RU|RD|UL|UR|DL|DR|big|little|(?:un)?signed|left|right|r?center|l?both|expand|\\*)|([^:,#\\(\\[\\{\\)\\]\\}\\n\\r]+))', bygroups(Keyword, String.Heredoc)),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'value_body' : [
            (u'([#]+)(.*$)', bygroups(Comment.Single, Comment.Single)),
            (u'([@])(\')', bygroups(Punctuation, Punctuation), 'refstr_all__1'),
            (u'([@])(\uff07)', bygroups(Punctuation, Punctuation), 'refstr_all__2'),
            (u'([@])(\u2018)', bygroups(Punctuation, Punctuation), 'refstr_all__3'),
            (u'([@])(\u2019)', bygroups(Punctuation, Punctuation), 'refstr_all__4'),
            (u'([@])(\u275b)', bygroups(Punctuation, Punctuation), 'refstr_all__5'),
            (u'([@])(\u275c)', bygroups(Punctuation, Punctuation), 'refstr_all__6'),
            (u'([@])(\u201b)', bygroups(Punctuation, Punctuation), 'refstr_all__7'),
            (u'([@])(\u300c)', bygroups(Punctuation, Punctuation), 'refstr_all__8'),
            (u'([@])(\u3008)', bygroups(Punctuation, Punctuation), 'refstr_all__9'),
            (u'([@])(\u201a)', bygroups(Punctuation, Punctuation), 'refstr_all__10'),
            (u'([@])(\u275f)', bygroups(Punctuation, Punctuation), 'refstr_all__11'),
            (u'([@])(\u2039)', bygroups(Punctuation, Punctuation), 'refstr_all__12'),
            (u'([@])(\u203a)', bygroups(Punctuation, Punctuation), 'refstr_all__13'),
            (u'([@])(\u276e)', bygroups(Punctuation, Punctuation), 'refstr_all__14'),
            (u'([@])(\u276f)', bygroups(Punctuation, Punctuation), 'refstr_all__15'),
            (u'([@])(\")', bygroups(Punctuation, Punctuation), 'refstr_all__16'),
            (u'([@])(\uff02)', bygroups(Punctuation, Punctuation), 'refstr_all__17'),
            (u'([@])(\u201c)', bygroups(Punctuation, Punctuation), 'refstr_all__18'),
            (u'([@])(\u201d)', bygroups(Punctuation, Punctuation), 'refstr_all__19'),
            (u'([@])(\u275d)', bygroups(Punctuation, Punctuation), 'refstr_all__20'),
            (u'([@])(\u275e)', bygroups(Punctuation, Punctuation), 'refstr_all__21'),
            (u'([@])(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation, Punctuation), 'refstr_all__22'),
            (u'([@])(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation, Punctuation), 'refstr_all__23'),
            (u'([@])(\u201f)', bygroups(Punctuation, Punctuation), 'refstr_all__24'),
            (u'([@])(\u300e)', bygroups(Punctuation, Punctuation), 'refstr_all__25'),
            (u'([@])(\u300a)', bygroups(Punctuation, Punctuation), 'refstr_all__26'),
            (u'([@])(\u201e)', bygroups(Punctuation, Punctuation), 'refstr_all__27'),
            (u'([@])(\u2760)', bygroups(Punctuation, Punctuation), 'refstr_all__28'),
            (u'([@])(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation, Punctuation), 'refstr_all__29'),
            (u'([@])(\u  ab)', bygroups(Punctuation, Punctuation), 'refstr_all__30'),
            (u'([@])(\u  bb)', bygroups(Punctuation, Punctuation), 'refstr_all__31'),
            (u'(\')', bygroups(Punctuation), 'string_all__1'),
            (u'(\uff07)', bygroups(Punctuation), 'string_all__2'),
            (u'(\u2018)', bygroups(Punctuation), 'string_all__3'),
            (u'(\u2019)', bygroups(Punctuation), 'string_all__4'),
            (u'(\u275b)', bygroups(Punctuation), 'string_all__5'),
            (u'(\u275c)', bygroups(Punctuation), 'string_all__6'),
            (u'(\u201b)', bygroups(Punctuation), 'string_all__7'),
            (u'(\u300c)', bygroups(Punctuation), 'string_all__8'),
            (u'(\u3008)', bygroups(Punctuation), 'string_all__9'),
            (u'(\u201a)', bygroups(Punctuation), 'string_all__10'),
            (u'(\u275f)', bygroups(Punctuation), 'string_all__11'),
            (u'(\u2039)', bygroups(Punctuation), 'string_all__12'),
            (u'(\u203a)', bygroups(Punctuation), 'string_all__13'),
            (u'(\u276e)', bygroups(Punctuation), 'string_all__14'),
            (u'(\u276f)', bygroups(Punctuation), 'string_all__15'),
            (u'(\")', bygroups(Punctuation), 'string_all__16'),
            (u'(\uff02)', bygroups(Punctuation), 'string_all__17'),
            (u'(\u201c)', bygroups(Punctuation), 'string_all__18'),
            (u'(\u201d)', bygroups(Punctuation), 'string_all__19'),
            (u'(\u275d)', bygroups(Punctuation), 'string_all__20'),
            (u'(\u275e)', bygroups(Punctuation), 'string_all__21'),
            (u'(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation), 'string_all__22'),
            (u'(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation), 'string_all__23'),
            (u'(\u201f)', bygroups(Punctuation), 'string_all__24'),
            (u'(\u300e)', bygroups(Punctuation), 'string_all__25'),
            (u'(\u300a)', bygroups(Punctuation), 'string_all__26'),
            (u'(\u201e)', bygroups(Punctuation), 'string_all__27'),
            (u'(\u2760)', bygroups(Punctuation), 'string_all__28'),
            (u'(\u{s1:4x}\u{s2:4x})', bygroups(Punctuation), 'string_all__29'),
            (u'(\u  ab)', bygroups(Punctuation), 'string_all__30'),
            (u'(\u  bb)', bygroups(Punctuation), 'string_all__31'),
            (u'([@])(--|[\u2013\u2014\u2015])', bygroups(Punctuation, Punctuation), 'dash_refstring__1'),
            (u'(--|[\u2013\u2014\u2015])([\\+])', bygroups(Punctuation, Operator), 'math_dash_string__1'),
            (u'(--|[\u2013\u2014\u2015])', bygroups(Punctuation), 'dash_string__1'),
            (u'(?=[@][`])', bygroups(String), 'refmultistr__1'),
            (u'([`]{3})([\\+])', bygroups(Punctuation, Operator), 'math_quoted3__1'),
            (u'([`])([\\+])', bygroups(Punctuation, Operator), 'math_quoted1__1'),
            (u'(?=[`])', bygroups(String), 'multistr__1'),
            (u'([@])(\\s*)([\\(])', bygroups(Punctuation, String, Punctuation), 'reference_paren__1'),
            (u'([@])(\\s*)([\\[])', bygroups(Punctuation, String, Punctuation), 'reference_brack__1'),
            (u'([@])(\\s*)(?:(this|g*parent|w*back|Defs)|([\\w_\\d]+)|)', bygroups(Punctuation, String, Keyword, Name.Entity), 'reference_inner'),
            (u'(?:(\\b\\d+)|([\\$][\\da-fA-F]+))(\\s*)([-~*+\xb1]|\\+-)(\\s*)(?:(\\b\\d+)|([\\$][\\da-fA-F]+))', bygroups(Number, Number.Hex, String, Operator, String, Number, Number.Hex)),
            (u'(?:(\\b\\d+)|([\\$][\\da-fA-F]+))(?=\\s*[:,#\\)\\]\\}]|\\s*$)', bygroups(Number, Number)),
            (u'([\\[])', bygroups(Punctuation), 'list__1'),
            (u'([:])(\\1?)', bygroups(Punctuation, Punctuation)),
            (u'([\\+])', bygroups(Operator), 'math_literal__1'),
            (u'(?=\\S)(?![a-z][a-z\\d]*\\s*[\\(\\[\\{])(?:(false|true|undefined|black|white|red|blue|green|yellow|magenta|pink|cyan|gray|grey|transparent|byte|short|long|double|LRUD|LRDU|RLUD|RLDU|UDLR|UDRL|DULR|DURL|LU|LD|RU|RD|UL|UR|DL|DR|big|little|(?:un)?signed|left|right|r?center|l?both|expand|\\*)|([^:,#\\(\\[\\{\\)\\]\\}\\n\\r]+))', bygroups(Keyword, String.Heredoc)),
            (u'(\\b[a-z][a-z\\d]*)(?=\\s*[\\(])', bygroups(Keyword.Type), 'value_struct_tp__1'),
            (u'(\\b[a-z][a-z\\d]*)(?=\\s*[\\[])', bygroups(Keyword.Type), 'value_struct_tl__1'),
            (u'(\\b[a-z][a-z\\d]*)(?=\\s*[\\{])', bygroups(Keyword.Type), 'value_struct_tb__1'),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'value_struct_p__1' : [
            (u'([\\(])', bygroups(Punctuation), 'value_body'),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'value_struct_tb__1' : [
            (u'([\\{])', bygroups(Punctuation), 'struct_body__1'),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'value_struct_tl__1' : [
            (u'([\\[])', bygroups(Punctuation), 'value_body'),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ], 
        'value_struct_tp__1' : [
            (u'([\\(])', bygroups(Punctuation), 'value_body'),
            ('(\n|\r|\r\n)', String),
            ('.', String),
        ]
    }
